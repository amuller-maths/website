(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){e.exports=a(53)},27:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(19),r=a.n(o),l=a(4),i=function(){return c.a.createElement("h1",{className:"Home"},"Bienvenue !")},s=(a(27),a(3)),u=a.n(s),d=a(7),p=a(1),E={listeDS:[],listeEleves:[],listeQuestions:{},notes:{},eleve:"\xc9l\xe8ve",devoir:"Devoir",toUpdate:{}},v=function(e,t){switch(t.type){case"NOTES":return Object(p.a)(Object(p.a)({},e),{},{notes:t.payload});case"LISTEQUESTIONS":return Object(p.a)(Object(p.a)({},e),{},{listeQuestions:t.payload});case"LISTEDS":return Object(p.a)(Object(p.a)({},e),{},{listeDS:t.payload});case"LISTEELEVES":return Object(p.a)(Object(p.a)({},e),{},{listeEleves:t.payload});case"ELEVE":return Object(p.a)(Object(p.a)({},e),{},{eleve:t.payload});case"DEVOIR":return Object(p.a)(Object(p.a)({},e),{},{devoir:t.payload});case"UPDATE":return Object(p.a)(Object(p.a)({},e),{},{toUpdate:Object(p.a)(Object(p.a)({},e.toUpdate),{},Object(d.a)({},t.payload.key,t.payload.value))});case"RESETUPDATE":return Object(p.a)(Object(p.a)({},e),{},{toUpdate:{}});default:return e}},m=c.a.createContext(E),b=function(e){var t=Object(n.useReducer)(v,E),a=Object(l.a)(t,2),o={state:a[0],dispatch:a[1]};return c.a.createElement(m.Provider,{value:o},e.children)},y=(m.Consumer,a(6)),O=function(e){var t=e.liste,a=e.onClick,n=e.name;return c.a.createElement("li",{className:"dropdown"},c.a.createElement("div",{className:"navbar dropbtn"},n),c.a.createElement("div",{className:"dropdown-content"},t.map((function(e){return c.a.createElement("div",{key:e,className:"navbar",onClick:function(){return a(e)}},e)}))))},f=function(){var e=c.a.useContext(m),t=e.state,a=e.dispatch,n=function(){0!==Object.keys(t.toUpdate).length&&u.a.post("https://correction-devoirs.herokuapp.com/api/notes",{devoir:t.devoir,eleve:t.eleve,notes:t.toUpdate}).then((function(e){return a({type:"RESETUPDATE"})}))};return c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(y.a,{className:"navbar",to:"/",onClick:function(){a({type:"DEVOIR",payload:"Devoir"}),a({type:"ELEVE",payload:"\xc9l\xe8ve"})}},"Home")),c.a.createElement(O,{onClick:function(e){a({type:"DEVOIR",payload:e}),"Devoir"!==t.devoir&&"\xc9l\xe8ve"!==e&&(n(),Object(y.c)("/corrections/".concat(t.devoir,"+").concat(e)))},name:t.devoir,liste:t.listeDS}),c.a.createElement(O,{onClick:function(e){a({type:"ELEVE",payload:e}),"Devoir"!==t.devoir&&"\xc9l\xe8ve"!==e&&(n(),Object(y.c)("/corrections/".concat(t.devoir,"+").concat(e)))},name:t.eleve,liste:t.listeEleves}),c.a.createElement("li",null,c.a.createElement("div",{className:0!==Object.keys(t.toUpdate).length?"navbar sauvegarde":"navbar",onClick:n},"Sauvegarde")))},j=(a(50),a(21)),h=(a(51),function(e){var t=e.id,a=e.listeQuestions,o=c.a.useContext(m),r=o.state,i=o.dispatch,s=t.split("+"),d=Object(l.a)(s,2),p=d[0],E=d[1],v=Object(n.useState)({}),b=Object(l.a)(v,2),y=b[0],O=b[1],f=Object(n.useState)(!0),h=Object(l.a)(f,2),k=h[0],S=h[1],D=a[p];return Object(n.useEffect)((function(){"\xc9l\xe8ve"!==r.eleve&&"Devoir"!==r.devoir||(i({type:"ELEVE",payload:E}),i({type:"DEVOIR",payload:p})),E===r.eleve&&u.a.get("https://correction-devoirs.herokuapp.com"+"/api/notes/".concat(t)).then((function(e){O((function(t){return e.data})),S(!1)}))}),[t,p,E,i,r.devoir,r.eleve]),k?c.a.createElement("div",null,"Chargement..."):c.a.createElement("div",{className:"correction"},Object.keys(D).map((function(e){return c.a.createElement("div",{className:"question",key:e},e," : ",c.a.createElement(j.a,null,D[e].question),c.a.createElement("div",{className:"radio-toolbar"},["NT","0","1","2","3","4"].map((function(t){return c.a.createElement("div",{className:"radio-notes",key:"".concat(e,"+").concat(t)},c.a.createElement("input",{type:"radio",id:"".concat(e,"+").concat(t),name:e,key:"input".concat(e,"+").concat(t),value:t,defaultChecked:t===y[e],onClick:function(){return function(e,t){i({type:"UPDATE",payload:{key:e,value:t}})}(e,t)}}),c.a.createElement("label",{htmlFor:"".concat(e,"+").concat(t),key:"label".concat(e,"+").concat(t)},t))}))))})))}),k=(a(52),"https://correction-devoirs.herokuapp.com"),S=function(){var e=Object(n.useContext)(m),t=e.state,a=e.dispatch,o=Object(n.useState)(!0),r=Object(l.a)(o,2),s=r[0],d=r[1];return Object(n.useEffect)((function(){s&&u.a.all([u.a.get(k+"/api/listeeleves"),u.a.get(k+"/api/listeds"),u.a.get(k+"/api/listequestions")]).then(u.a.spread((function(e,t,n){a({type:"LISTEELEVES",payload:e.data}),a({type:"LISTEDS",payload:t.data}),a({type:"LISTEQUESTIONS",payload:n.data})}))).finally(d(!1))}),[a,s]),s?c.a.createElement("div",null,"Chargement..."):c.a.createElement("div",{className:"App"},c.a.createElement(f,null),c.a.createElement(y.b,null,c.a.createElement(i,{path:"/"}),c.a.createElement(h,{path:"/corrections/:id",listeQuestions:t.listeQuestions,key:document.location.href})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(b,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.4c8aebf0.chunk.js.map